{"ast":null,"code":"import _regeneratorRuntime from \"/Users/might/Documents/projects/mine/nextjs/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/might/Documents/projects/mine/nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { post } from '@helpers/axios.helper';\nimport { API_AUTH_LOGIN, API_AUTH_LOGOUT } from '@constants/api.constants';\nimport { removeCookieByName, setCookieByName } from '@helpers/cookie.helper';\nexport var apiAuthLogin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(username, password) {\n    var _yield$post, accessToken;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return post(API_AUTH_LOGIN, {\n              username: username,\n              password: password\n            });\n\n          case 2:\n            _yield$post = _context.sent;\n            accessToken = _yield$post.accessToken;\n            setCookieByName('Authorization', accessToken);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function apiAuthLogin(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var apiAuthLogout = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return post(API_AUTH_LOGOUT);\n\n          case 2:\n            removeCookieByName('Authorization');\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function apiAuthLogout() {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/might/Documents/projects/mine/nextjs/src/services/api/auth.api.ts"],"names":["post","API_AUTH_LOGIN","API_AUTH_LOGOUT","removeCookieByName","setCookieByName","apiAuthLogin","username","password","accessToken","apiAuthLogout"],"mappings":";;AAAA,SAASA,IAAT,QAAqB,uBAArB;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,0BAAhD;AACA,SAASC,kBAAT,EAA6BC,eAA7B,QAAoD,wBAApD;AAEA,OAAO,IAAMC,YAAY;AAAA,sEAAG,iBAAOC,QAAP,EAAyBC,QAAzB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACIP,IAAI,CAA0BC,cAA1B,EAA0C;AAC1EK,cAAAA,QAAQ,EAARA,QAD0E;AAE1EC,cAAAA,QAAQ,EAARA;AAF0E,aAA1C,CADR;;AAAA;AAAA;AAClBC,YAAAA,WADkB,eAClBA,WADkB;AAK1BJ,YAAAA,eAAe,CAAC,eAAD,EAAkBI,WAAlB,CAAf;;AAL0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZH,YAAY;AAAA;AAAA;AAAA,GAAlB;AAQP,OAAO,IAAMI,aAAa;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACrBT,IAAI,CAAOE,eAAP,CADiB;;AAAA;AAE3BC,YAAAA,kBAAkB,CAAC,eAAD,CAAlB;;AAF2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbM,aAAa;AAAA;AAAA;AAAA,GAAnB","sourcesContent":["import { post } from '@helpers/axios.helper';\nimport { API_AUTH_LOGIN, API_AUTH_LOGOUT } from '@constants/api.constants';\nimport { removeCookieByName, setCookieByName } from '@helpers/cookie.helper';\n\nexport const apiAuthLogin = async (username: string, password: string): Promise<void> => {\n  const { accessToken } = await post<{ accessToken: string }>(API_AUTH_LOGIN, {\n    username,\n    password,\n  });\n  setCookieByName('Authorization', accessToken);\n};\n\nexport const apiAuthLogout = async (): Promise<void> => {\n  await post<void>(API_AUTH_LOGOUT);\n  removeCookieByName('Authorization');\n};\n"]},"metadata":{},"sourceType":"module"}